# 《图解java多线程设计模式》
- synchronized锁住的是当前对象实例，也就同一个对象多个方法使用synchronized修饰，同时只能有一个线程获取到锁，串行操作
- synchronized静态方法是使用当前类对象的锁来执行线程的互斥处理
- 死锁产生原因：1.存在多个共享资源角色；2.线程在持有某个共享资源的锁的同时，还想获取其他共享资源角色的锁；
3.获取共享资源角色的锁的顺序并不固定
- 在java中可以使用wait，notify和notifyAll实现线程之间的通信，线程在运行的时候，如果发现某些条件没有被满足，可以调用wait方法暂停自己的执行，
并且放弃已经获得的锁，然后进入等待状态。当该线程被其他线程唤醒并获得锁后，可以沿着之前暂停的地方继续向后执行，而不是再次从同步代码块开始的地方
开始执行。**但需要注意的一点是，对线程等待的条件的判断要使用while而不是用if来判断，这样在线程被唤醒后，会再次判断条件是否真正满足**
- 当正在wait的线程调用interrupt方法时（即线程被取消执行时），该线程会在重新获取锁之后，抛出InterruptedException异常。在获取锁之前，线程不会
抛出InterruptedException异常。
- notify和interrupt方法的差别：
> notify和notifyAll是java.lang.Object类的方法，唤醒的是该实例的等待队列中的线程，而不是直接指定的线程。
notify和notifyAll唤醒的线程会继续执行wait的下一条语句。另外，执行notify和notifyAll时，线程必须要获取实例的锁。
interrupt方法是java.lang.Thread类的方法，可以直接指定线程并唤醒。当被interrupt的线程处于sleep或wait中时，会抛出interruptException异常。
>执行interrupt时并不需要获取要取消的线程的锁。
- interrupt方法只是改变了线程的中断状态而已，详情解释参见interrupt.jpg
- synchronized可以用于获取实例的锁。java的每个实例都持有一个锁，但同一个锁不可以由两个以上的线程同时获取。这种结构是java编程规范规定的，
java虚拟机也是这样实现的。这是java语言从一开始就提供的所谓的物理锁，java程序并不能改变这种锁的运行。
而用于读取的锁和用于写入的锁所指的锁与使用synchronized获取的锁是不一样的。这并不是java编程规范规定的结构，而是开发人员自己实现的一种结构。这就是所谓的逻辑锁。开发
人员可以通过修改ReadWriteLock类来改变锁的运行。
ReadWriteLock类提供了用于读取的锁和用于写入
- 方法的调用和执行分离：提高响应速度；控制执行顺序（调度）；可以取消和反复执行；通往分布式之路
- 在WorkerThread模式中，不应当让工作线程持有每项工作固有的信息，这些信息应当放在Request角色中。

2019年7月29日 12:13:12 141/523
2019年7月30日 17:45:19 163/523
2019年7月31日 12:00:58 187/523
2019年8月5日 08:30:54 242/523
2019年8月6日 12:14:45 263/523
2019年8月12日 18:24:40 298/523
2019年8月14日 10:14:43 321/523
2019年8月15日 08:25:49 图解多线程模块阅读完成

# 《程序是怎么样跑起来的》
## 对程序员来说什么是CPU
>程序是什么：指示计算机每一步动作的一组指令   
>程序是由什么组成的：指令和数据   
>什么是机器语言：CPU可以直接识别并使用的语言   
>正在运行的程序存储在什么位置：内存   
>什么是内存地址：内存中，用来表示命令和数据存储位置的数值   
>计算机的构成元件中，负责程序的解释和运行的是哪个：CPU--中央处理器   
> CPU内部由寄存器、控制器、运算器和时钟四个部分构成，各部分之间由电流信号相互连通。寄存器可用来暂存指令、数据等处理对象，可以将其看做是
内存的一种，根据种类不同，一个CPU可能会有10-100个寄存器。控制器负责将内存上的指令、数据等读入寄存器，并根据指令的执行结果来控制整个计算机。
运算器负责运算从内存读入寄存器的数据。时钟负责发出CPU开始计时的信号。   
>内存是指计算机的主存储器，简称主存。主存通过控制芯片等于CPU相连，主要负责存储指令和数据。主存由可读写的元素构成，每个字节（1字节=8位）
>都带有一个地址编号。CPU可以通过该地址读取主存中的指令和数据，当然也可以写入数据。   
>程序启动后，根据时钟信号，控制器会从内存中读取指令和数据。通过对这些指令加以解释和运行，运算器就会对数据进行运算，控制器根据该运算结果来控制计算机。   
- 程序是把寄存器当做对象来描述的。
>汇编语言采用助记符（memonic）来编写程序，每一个原本都是电气信号的机器语言指令都会有一个与其对应的助记符，助记符通常为指令功能的简单
>英语单词的简写。汇编语言和机器语言基本上是一一对应的。




2019年8月20日 13:05:05 6/274